var root=document.querySelector("html"),compStyles=window.getComputedStyle(root),localTheme=localStorage.getItem("theme"),osTheme=compStyles.getPropertyValue("--theme").replace(" ",""),toggle=document.querySelector("#theme");switch(localTheme||osTheme){case"dark":root.setAttribute("data-theme","dark"),toggle.checked=!0;break;case"light":root.setAttribute("data-theme","light"),toggle.checked=!1;break;default:root.setAttribute("data-theme","light"),toggle.checked=!1}function asyncGeneratorStep(e,t,a,o,r,n,c){try{var i=e[n](c),s=i.value}catch(e){return void a(e)}i.done?t(s):Promise.resolve(s).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise(function(o,r){var n=e.apply(t,a);function c(e){asyncGeneratorStep(n,o,r,c,i,"next",e)}function i(e){asyncGeneratorStep(n,o,r,c,i,"throw",e)}c(void 0)})}}toggle.addEventListener("input",function(){switch(toggle.checked){case!1:localStorage.setItem("theme","light");break;case!0:localStorage.setItem("theme","dark");break;default:localStorage.setItem("theme","dark")}switch(root.getAttribute("data-theme")){case"dark":root.setAttribute("data-theme","light");break;case"light":root.setAttribute("data-theme","dark");break;default:root.setAttribute("data-theme","dark")}});var worker=new Worker("ww.js"),fragment=document.createDocumentFragment(),bodyStyle=getComputedStyle(document.body),size=bodyStyle.getPropertyValue("--base"),makeNoise=function(){var e=_asyncToGenerator(function*(e){var t=document.createElement("canvas");t.width=size,t.height=size,t.getContext("2d").putImageData(new ImageData(e,size,size),0,0);var a=yield new Promise(function(e){return t.toBlob(e,"image/png")}),o=URL.createObjectURL(a),r=document.createElement("div");r.classList.add("noise"),r.style="background-image: url(".concat(o,")"),fragment.appendChild(r),document.body.appendChild(fragment)});return function(t){return e.apply(this,arguments)}}();window.Worker&&(worker.postMessage(size),worker.onmessage=function(e){makeNoise(e.data)});